<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å®šæ™‚é–æ™‚é–“è¨ˆç®—å™¨ï¼ˆæ¸¬è©¦ä¸­ï¼‰</title>
<style>
  body {
    font-family: Arial, sans-serif;
    font-size: 1.5rem;
    background-color: #fefefe;
    padding: 1rem;
    line-height: 2rem;
    max-width: 600px; /* é™åˆ¶æœ€å¤§å¯¬åº¦ï¼Œåœ¨å¤§è¢å¹•çœ‹æ¯”è¼ƒèˆ’æœ */
    margin: 0 auto;   /* ç½®ä¸­ */
  }
  h1 {
    font-size: 2rem;
    text-align: center;
    margin-bottom: 1rem;
  }
  label, select {
    display: block;
    margin: 0.5rem 0;
    font-size: 1.5rem;
    width: 100%; /* è®“é¸å–®æ»¿ç‰ˆ */
    box-sizing: border-box;
  }
  button {
    font-size: 1.6rem;
    padding: 0.8rem 1.2rem;
    margin: 0.5rem 0; /*ç¨å¾®èª¿æ•´é–“è·*/
    width: 100%;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
  }
  button:hover {
    opacity: 0.9;
  }
  .result {
    margin-top: 1.5rem;
    padding: 1rem;
    background-color: #f0f0f0;
    border-radius: 8px;
    font-size: 1.6rem;
    text-align: center;
    min-height: 1.6rem; /* é¿å…æ²’å…§å®¹æ™‚å¤ªæ‰ */
  }
</style>
</head>
<body>

<h1>å®šæ™‚é–æ™‚é–“è¨ˆç®—å™¨ï¼ˆæ¸¬è©¦ä¸­ï¼‰</h1>

<label>ä¸€ã€é¸æ“‡èµ·å§‹æ™‚é–“ï¼š</label>
<button onclick="useNow()">ç”¨ç¾åœ¨çš„æ™‚é–“</button>
<button onclick="useCustom()">æˆ‘è¦å¦å¤–æŒ‡å®šæ™‚é–“</button>

<div id="customStart" style="display:none; margin-top:1rem; border: 1px dashed #ccc; padding: 10px;">
  <label style="text-align:center; font-weight:bold;">-- è¨­å®šèµ·å§‹æ™‚é–“ --</label>
  <select id="startMonth">
    <option value="">æœˆ</option>
    <option value="1">1æœˆ</option>
    <option value="2">2æœˆ</option>
    <option value="3">3æœˆ</option>
    <option value="4">4æœˆ</option>
    <option value="5">5æœˆ</option>
    <option value="6">6æœˆ</option>
    <option value="7">7æœˆ</option>
    <option value="8">8æœˆ</option>
    <option value="9">9æœˆ</option>
    <option value="10">10æœˆ</option>
    <option value="11">11æœˆ</option>
    <option value="12">12æœˆ</option>
  </select>
  <select id="startDay">
    <option value="">æ—¥</option>
    <option value="1">1æ—¥</option>
    <option value="2">2æ—¥</option>
    <option value="3">3æ—¥</option>
    <option value="4">4æ—¥</option>
    <option value="5">5æ—¥</option>
    <option value="6">6æ—¥</option>
    <option value="7">7æ—¥</option>
    <option value="8">8æ—¥</option>
    <option value="9">9æ—¥</option>
    <option value="10">10æ—¥</option>
    <option value="11">11æ—¥</option>
    <option value="12">12æ—¥</option>
    <option value="13">13æ—¥</option>
    <option value="14">14æ—¥</option>
    <option value="15">15æ—¥</option>
    <option value="16">16æ—¥</option>
    <option value="17">17æ—¥</option>
    <option value="18">18æ—¥</option>
    <option value="19">19æ—¥</option>
    <option value="20">20æ—¥</option>
    <option value="21">21æ—¥</option>
    <option value="22">22æ—¥</option>
    <option value="23">23æ—¥</option>
    <option value="24">24æ—¥</option>
    <option value="25">25æ—¥</option>
    <option value="26">26æ—¥</option>
    <option value="27">27æ—¥</option>
    <option value="28">28æ—¥</option>
    <option value="29">29æ—¥</option>
    <option value="30">30æ—¥</option>
    <option value="31">31æ—¥</option>
  </select>
  <select id="startAmPm">
    <option value="AM">ä¸Šåˆ</option>
    <option value="PM">ä¸‹åˆ</option>
  </select>
  <select id="startHour">
    <option value="">æ™‚</option>
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
    <option value="6">6</option>
    <option value="7">7</option>
    <option value="8">8</option>
    <option value="9">9</option>
    <option value="10">10</option>
    <option value="11">11</option>
    <option value="12">12</option>
  </select>
  <select id="startMinute">
    <option value="">åˆ†</option>
    <option value="0">0</option>
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
    <option value="6">6</option>
    <option value="7">7</option>
    <option value="8">8</option>
    <option value="9">9</option>
    <option value="10">10</option>
    <option value="11">11</option>
    <option value="12">12</option>
    <option value="13">13</option>
    <option value="14">14</option>
    <option value="15">15</option>
    <option value="16">16</option>
    <option value="17">17</option>
    <option value="18">18</option>
    <option value="19">19</option>
    <option value="20">20</option>
    <option value="21">21</option>
    <option value="22">22</option>
    <option value="23">23</option>
    <option value="24">24</option>
    <option value="25">25</option>
    <option value="26">26</option>
    <option value="27">27</option>
    <option value="28">28</option>
    <option value="29">29</option>
    <option value="30">30</option>
    <option value="31">31</option>
    <option value="32">32</option>
    <option value="33">33</option>
    <option value="34">34</option>
    <option value="35">35</option>
    <option value="36">36</option>
    <option value="37">37</option>
    <option value="38">38</option>
    <option value="39">39</option>
    <option value="40">40</option>
    <option value="41">41</option>
    <option value="42">42</option>
    <option value="43">43</option>
    <option value="44">44</option>
    <option value="45">45</option>
    <option value="46">46</option>
    <option value="47">47</option>
    <option value="48">48</option>
    <option value="49">49</option>
    <option value="50">50</option>
    <option value="51">51</option>
    <option value="52">52</option>
    <option value="53">53</option>
    <option value="54">54</option>
    <option value="55">55</option>
    <option value="56">56</option>
    <option value="57">57</option>
    <option value="58">58</option>
    <option value="59">59</option>
  </select>
</div>

<div id="openTime" style="margin-top:1rem;">
  <label>äºŒã€é è¨ˆé–‹å•Ÿæ™‚é–“ï¼š</label>
  <select id="openMonth">
    <option value="">æœˆ</option>
    <option value="1">1æœˆ</option>
    <option value="2">2æœˆ</option>
    <option value="3">3æœˆ</option>
    <option value="4">4æœˆ</option>
    <option value="5">5æœˆ</option>
    <option value="6">6æœˆ</option>
    <option value="7">7æœˆ</option>
    <option value="8">8æœˆ</option>
    <option value="9">9æœˆ</option>
    <option value="10">10æœˆ</option>
    <option value="11">11æœˆ</option>
    <option value="12">12æœˆ</option>
  </select>
  <select id="openDay">
    <option value="">æ—¥</option>
    <option value="1">1æ—¥</option>
    <option value="2">2æ—¥</option>
    <option value="3">3æ—¥</option>
    <option value="4">4æ—¥</option>
    <option value="5">5æ—¥</option>
    <option value="6">6æ—¥</option>
    <option value="7">7æ—¥</option>
    <option value="8">8æ—¥</option>
    <option value="9">9æ—¥</option>
    <option value="10">10æ—¥</option>
    <option value="11">11æ—¥</option>
    <option value="12">12æ—¥</option>
    <option value="13">13æ—¥</option>
    <option value="14">14æ—¥</option>
    <option value="15">15æ—¥</option>
    <option value="16">16æ—¥</option>
    <option value="17">17æ—¥</option>
    <option value="18">18æ—¥</option>
    <option value="19">19æ—¥</option>
    <option value="20">20æ—¥</option>
    <option value="21">21æ—¥</option>
    <option value="22">22æ—¥</option>
    <option value="23">23æ—¥</option>
    <option value="24">24æ—¥</option>
    <option value="25">25æ—¥</option>
    <option value="26">26æ—¥</option>
    <option value="27">27æ—¥</option>
    <option value="28">28æ—¥</option>
    <option value="29">29æ—¥</option>
    <option value="30">30æ—¥</option>
    <option value="31">31æ—¥</option>
  </select>
  <select id="openAmPm">
    <option value="AM">ä¸Šåˆ</option>
    <option value="PM">ä¸‹åˆ</option>
  </select>
  <select id="openHour">
    <option value="">æ™‚</option>
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
    <option value="6">6</option>
    <option value="7">7</option>
    <option value="8">8</option>
    <option value="9">9</option>
    <option value="10">10</option>
    <option value="11">11</option>
    <option value="12">12</option>
  </select>
  <select id="openMinute">
    <option value="">åˆ†</option>
    <option value="0">0</option>
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
    <option value="6">6</option>
    <option value="7">7</option>
    <option value="8">8</option>
    <option value="9">9</option>
    <option value="10">10</option>
    <option value="11">11</option>
    <option value="12">12</option>
    <option value="13">13</option>
    <option value="14">14</option>
    <option value="15">15</option>
    <option value="16">16</option>
    <option value="17">17</option>
    <option value="18">18</option>
    <option value="19">19</option>
    <option value="20">20</option>
    <option value="21">21</option>
    <option value="22">22</option>
    <option value="23">23</option>
    <option value="24">24</option>
    <option value="25">25</option>
    <option value="26">26</option>
    <option value="27">27</option>
    <option value="28">28</option>
    <option value="29">29</option>
    <option value="30">30</option>
    <option value="31">31</option>
    <option value="32">32</option>
    <option value="33">33</option>
    <option value="34">34</option>
    <option value="35">35</option>
    <option value="36">36</option>
    <option value="37">37</option>
    <option value="38">38</option>
    <option value="39">39</option>
    <option value="40">40</option>
    <option value="41">41</option>
    <option value="42">42</option>
    <option value="43">43</option>
    <option value="44">44</option>
    <option value="45">45</option>
    <option value="46">46</option>
    <option value="47">47</option>
    <option value="48">48</option>
    <option value="49">49</option>
    <option value="50">50</option>
    <option value="51">51</option>
    <option value="52">52</option>
    <option value="53">53</option>
    <option value="54">54</option>
    <option value="55">55</option>
    <option value="56">56</option>
    <option value="57">57</option>
    <option value="58">58</option>
    <option value="59">59</option>
  </select>
</div>

<button onclick="calculateTime()">è¨ˆç®—æ‡‰æ’¥å®šæ™‚é–“</button>

<div class="result" id="result"></div>

<button onclick="resetForm()" style="background-color:#f44336;">ğŸ”„ æ¸…é™¤å†ç®—ä¸€æ¬¡</button>

<a href="https://titan816.github.io" style="text-decoration:none;">
    <button style="background-color:#546E7A; margin-top: 1rem;">ğŸ  å›åˆ°é¦–é </button>
</a>

<script>
let startTime = null;

function useNow() {
  startTime = new Date();
  document.getElementById('customStart').style.display = 'none';
  alert(`å·²ä½¿ç”¨ç¾åœ¨æ™‚é–“ï¼š${startTime.toLocaleString()}`);
}

function useCustom() {
  startTime = null;
  document.getElementById('customStart').style.display = 'block';
}

function calculateTime() {
  if (!startTime) {
    const month = parseInt(document.getElementById('startMonth').value);
    const day = parseInt(document.getElementById('startDay').value);
    let hour = parseInt(document.getElementById('startHour').value);
    const minute = parseInt(document.getElementById('startMinute').value);
    const ampm = document.getElementById('startAmPm').value;

    if(!month || !day || !hour || minute==null || isNaN(minute)){
      alert("è«‹å®Œæ•´å¡«å¯«èµ·å§‹æ™‚é–“ï¼");
      return;
    }
    if(ampm === "PM" && hour !== 12) hour += 12;
    if(ampm === "AM" && hour === 12) hour = 0;

    const now = new Date();
    startTime = new Date(now.getFullYear(), month-1, day, hour, minute);
  }

  const monthO = parseInt(document.getElementById('openMonth').value);
  const dayO = parseInt(document.getElementById('openDay').value);
  let hourO = parseInt(document.getElementById('openHour').value);
  const minuteO = parseInt(document.getElementById('openMinute').value);
  const ampmO = document.getElementById('openAmPm').value;

  if(!monthO || !dayO || !hourO || minuteO==null || isNaN(minuteO)){
    alert("è«‹å®Œæ•´å¡«å¯«é–‹å•Ÿæ™‚é–“ï¼");
    return;
  }
  if(ampmO === "PM" && hourO !== 12) hourO += 12;
  if(ampmO === "AM" && hourO === 12) hourO = 0;

  const now = new Date();
  const openTime = new Date(now.getFullYear(), monthO-1, dayO, hourO, minuteO);

  let diff = openTime - startTime;
  if(diff < 0){
    document.getElementById('result').innerHTML = "é–‹å•Ÿæ™‚é–“æ—©æ–¼èµ·å§‹æ™‚é–“ï¼Œè«‹é‡æ–°è¨­å®šï¼";
    return;
  }

  const days = Math.floor(diff / (1000*60*60*24));
  diff -= days * 1000*60*60*24;
  const hours = Math.floor(diff / (1000*60*60));
  diff -= hours * 1000*60*60;
  const minutes = Math.floor(diff / (1000*60));

  document.getElementById('result').innerHTML = `
    æ‡‰æ’¥å®šæ™‚é–“ï¼š<br>
    ${days} å¤© ${hours} å°æ™‚ ${minutes} åˆ†é˜<br><br>
    <span style="font-size:1.2rem; color:#666;">æœ¬ç¨‹å¼å°šåœ¨æ¸¬è©¦ä¸­ï¼Œè«‹å‹™å¿…å†ä¸‰ç¢ºèªæ’¥å®šæ™‚é–“ï¼Œç¥æ¥­ç¸¾é•·ç´…</span>
  `;
}

function resetForm() {
  startTime = null;
  document.getElementById('customStart').style.display = 'none';
  document.getElementById('result').innerHTML = '';
  const selects = document.querySelectorAll('select');
  selects.forEach(s => s.selectedIndex = 0);
}
</script>

</body>
</html>
